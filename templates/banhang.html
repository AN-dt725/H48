<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>B√°n h√†ng | H48</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: sans-serif; background: #fff; padding: 20px; }
    input[type="text"] { width: 100%; padding: 15px; font-size: 16px; }
    button { margin-top: 10px; padding: 10px 20px; font-size: 16px; }
    ul, table { margin-top: 20px; width: 100%; }
    li { margin: 8px 0; }
    table, th, td { border: 1px solid #ccc; border-collapse: collapse; padding: 10px; }
  </style>
</head>
<body>
  <h2>üõí B·∫Øt ƒë·∫ßu b√°n h√†ng</h2>
  <form method="POST">
    <input type="text" name="keyword" placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m..." value="{{ keyword }}">
    <button type="submit">T√¨m ki·∫øm</button>
  </form>

  {% if ket_qua %}
    <h3>K·∫øt qu·∫£:</h3>
    <ul>
    {% for i, row in ket_qua.iterrows() %}
      <li>
        {{ row["T√™n m·∫∑t h√†ng"] }} - {{ row["Gi√°"] }}ƒë
        <form method="POST" style="display:inline;">
          <button name="add" value="{{ row['T√™n m·∫∑t h√†ng'] }}">+ Ch·ªçn</button>
        </form>
      </li>
    {% endfor %}
    </ul>
  {% endif %}

  {% if selected.shape[0] > 0 %}
    <h3>üßæ Gi·ªè h√†ng ƒë√£ ch·ªçn:</h3>
    <table>
      <thead><tr><th>S·∫£n ph·∫©m</th><th>Gi√°</th><th>X√≥a</th></tr></thead>
      <tbody>
      {% for i, row in selected.iterrows() %}
        <tr>
          <td>{{ row["T√™n m·∫∑t h√†ng"] }}</td>
          <td>{{ row["Gi√°"] }}ƒë</td>
          <td>
            <form method="POST">
              <button name="remove" value="{{ row['T√™n m·∫∑t h√†ng'] }}">X</button>
            </form>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    <h3>T·ªïng: <strong>{{ total }}ƒë</strong></h3>
  {% endif %}
</body>
</html>
